local RS = game:GetService("ReplicatedStorage")

local targets = {
    Phone = true,
    Wallet = true,
    Creditcard = true
}

task.spawn(function()
    local bus = workspace:FindFirstChild("Bus")
    if bus then
        for , v in ipairs(bus:GetChildren()) do
            if v:IsA("BasePart") then
                v:Destroy()
            end
        end
    end
end)



task.spawn(function()

    local acceptTick = 0
    local completeTick = 0

    while true do
        local now = tick()

        for , v in ipairs(workspace:GetDescendants()) do
            if v:IsA("ProximityPrompt") then


                v.HoldDuration = 0

                if v.Parent and targets[v.Parent.Name] then
                    v.RequiresLineOfSight = false
                    v.MaxActivationDistance = 999
                    fireproximityprompt(v)
                end
            end
        end

        if now - acceptTick >= 0.5 then
            if RS:FindFirstChild("HomelessQuestRemotes_NEW") then
                RS.HomelessQuestRemotes_NEW.AcceptQuest:FireServer()
            end
            acceptTick = now
        end

        if now - completeTick >= 0.2 then
            if RS:FindFirstChild("HomelessQuestRemotes_NEW") then
                RS.HomelessQuestRemotes_NEW.CompleteQuest:FireServer()
            end
            completeTick = now
        end

        task.wait(0.3)
    end
end)
